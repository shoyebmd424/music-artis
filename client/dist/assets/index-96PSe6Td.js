import{u as g,r as f,j as s,L as u,s as j}from"./index-CimJ3Ux_.js";import{u as w,o as b,l as N}from"./index-B_U-MyK_.js";import{a as S}from"./authService-CNRDlU8q.js";import{a as y,b as F}from"./index-Dyj0fHck.js";const C=()=>{const c=g(),[p,d]=f.useState({password:!1,cnfPassword:!1}),{register:x,handleSubmit:a,formState:{errors:o}}=w({mode:"onBlur",resolver:b(N)}),h=async e=>{var t,n;const r=await S(e);console.log((t=r==null?void 0:r.user)==null?void 0:t.role),r&&(r&&((n=r==null?void 0:r.user)==null?void 0:n.role)==="ADMIN"?c("/admin"):c("/user"),j(r))};return s.jsxs("form",{action:"",onSubmit:a(h),children:[s.jsx("h2",{className:"text-purple text-center",children:"Login"}),s.jsxs("div",{className:"d-flex flex-column gap-sm-4 gap-3 ",children:[i==null?void 0:i.map((e,r)=>{var t,n;return s.jsxs("div",{className:"field",children:[s.jsx("label",{htmlFor:"",children:e==null?void 0:e.label}),s.jsx("input",{name:e==null?void 0:e.name,type:(e==null?void 0:e.type)==="password"?p[e==null?void 0:e.name]?"text":"password":(e==null?void 0:e.type)||"text",...x(e==null?void 0:e.name)}),(e==null?void 0:e.type)==="password"&&s.jsx(s.Fragment,{children:p[e==null?void 0:e.name]?s.jsx(y,{onClick:()=>d(m=>({...m,[e==null?void 0:e.name]:!1})),size:20,className:`password-tg ${((t=o[e==null?void 0:e.name])==null?void 0:t.message)&&"pass-err"}`}):s.jsx(F,{onClick:()=>d(m=>({...m,[e==null?void 0:e.name]:!0})),size:20,className:`password-tg ${((n=o[e==null?void 0:e.name])==null?void 0:n.message)&&"pass-err"}`})}),o[e==null?void 0:e.name]&&s.jsx("small",{className:"error-message",children:o[e==null?void 0:e.name].message})]},r)}),s.jsx(u,{to:"/auth/forget",className:"text-purple text-decoration-none text-end mb-auto",children:"Forget Password"}),s.jsx("div",{children:s.jsx("button",{className:"btn-purple w-100",children:"Submit"})}),s.jsxs("div",{className:"text-center fw-600 d-sm-flex gap-2 justify-content-center",children:[s.jsx("span",{children:"Don't have Account,"}),s.jsx(u,{to:"/auth/register",className:"text-purple",children:"Create Account"})]})]})]})},i=[{label:"Email",name:"email",isRequired:!0},{label:"Password",name:"password",isRequired:!0,type:"password"}];export{C as default};
