import{u as h,a as j,r as u,j as s,L as g}from"./index-CimJ3Ux_.js";import{u as b,o as N,r as S}from"./index-B_U-MyK_.js";import{b as y}from"./authService-CNRDlU8q.js";import{a as P,b as E}from"./index-Dyj0fHck.js";const C=()=>{const n=h(),{state:r}=j(),[i,c]=u.useState({newPassword:!1,cnfPassword:!1});u.useEffect(()=>{(!r||!(r!=null&&r.email))&&n(-1)},[n,r]);const{register:x,handleSubmit:w,formState:{errors:t}}=b({mode:"onBlur",resolver:N(S)}),f=async e=>{if(e.email=r==null?void 0:r.email,await y(e)){n("/auth/login");return}};return s.jsxs("form",{action:"",onSubmit:w(f),children:[s.jsx("h2",{className:"text-purple text-center",children:"Reset Password"}),s.jsxs("div",{className:"d-flex flex-column gap-4",children:[m==null?void 0:m.map((e,d)=>{var a,p;return s.jsxs("div",{className:"field",children:[s.jsx("label",{htmlFor:"",children:e==null?void 0:e.label}),s.jsx("input",{name:e==null?void 0:e.name,type:(e==null?void 0:e.type)==="password"?i[e==null?void 0:e.name]?"text":"password":(e==null?void 0:e.type)||"text",...x(e==null?void 0:e.name)}),(e==null?void 0:e.type)==="password"&&s.jsx(s.Fragment,{children:i[e==null?void 0:e.name]?s.jsx(P,{onClick:()=>c(o=>({...o,[e==null?void 0:e.name]:!1})),size:20,className:`password-tg ${((a=t[e==null?void 0:e.name])==null?void 0:a.message)&&"pass-err"}`}):s.jsx(E,{onClick:()=>c(o=>({...o,[e==null?void 0:e.name]:!0})),size:20,className:`password-tg ${((p=t[e==null?void 0:e.name])==null?void 0:p.message)&&"pass-err"}`})}),t[e==null?void 0:e.name]&&s.jsx("small",{className:"error-message",children:t[e==null?void 0:e.name].message})]},d)}),s.jsx("div",{children:s.jsx("button",{className:"btn-purple w-100",children:"Submit"})}),s.jsxs("div",{className:"text-center fw-600 d-flex gap-2 justify-content-center",children:[s.jsx("span",{children:"Back To "}),s.jsx(g,{to:"/auth/login",className:"text-purple",children:"Login"})]})]})]})},m=[{label:"New Password",name:"newPassword",isRequired:!0,type:"password"},{label:"Confirm Password",name:"cnfPassword",isRequired:!0,type:"password"}];export{C as default};
