import{r as c,u as d,j as e,L as x}from"./index-CimJ3Ux_.js";import{u,o as f,f as p}from"./index-B_U-MyK_.js";import{f as h}from"./authService-CNRDlU8q.js";const b=()=>{var i;const[n,a]=c.useState(!1),r=d(),{register:o,handleSubmit:l,formState:{errors:s}}=u({mode:"onBlur",resolver:f(p)}),m=async t=>{a(!0),await h(t)&&r("otp-verification",{state:{email:t==null?void 0:t.email}}),a(!1)};return e.jsxs("form",{action:"",onSubmit:l(m),children:[e.jsx("h2",{className:"text-purple text-center",children:"Forget Password"}),e.jsxs("p",{className:"text-center",children:["A One-Time Password (OTP) has been sent to your ",e.jsx("br",{})," registered email/phone. Please enter the code to verify your identity.  It expires in 2 minutes. Resend if needed."]}),e.jsxs("div",{className:"d-flex flex-column gap-4",children:[e.jsxs("div",{className:"field",children:[e.jsx("label",{htmlFor:"",children:"Enter Email / Username"}),e.jsx("input",{name:"email",type:"email",...o("email")}),(s==null?void 0:s.email)&&e.jsx("small",{className:"error-message",children:(i=s==null?void 0:s.email)==null?void 0:i.message})]}),e.jsx("div",{children:e.jsx("button",{className:"btn-purple w-100",children:n?"Sending...":"Send OTP"})}),e.jsxs("div",{className:"text-center fw-600 d-flex gap-2 justify-content-center",children:[e.jsx("span",{children:"Back To "}),e.jsx(x,{to:"/auth/login",className:"text-purple",children:"Login"})]})]})]})};export{b as default};
